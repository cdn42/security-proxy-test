<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Security Proxy Test</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='table.css',_external=True) }}">
    <script src="{{ url_for('static', filename='js_utils.js',_external=True) }}"></script>
</head>
<body>

<h2>Compressed Files</h2>
<div class="rTable">
    <div class="rTableRow">
        <div class="rTableHead"><strong>Select</strong></div>
        <div class="rTableHead"><strong>File</strong></div>
        <div class="rTableHead">Clickable Link</div>
        <div class="rTableHead">Type</div>
    </div>

    {% for file in files_list %}
    <div class="rTableRow">
        <div class="rTableCell"><button type="button" onclick='download_url("{{ file[1] }}","/fetch/{{ file[1] }}")'>Download</button>
        </div>
        <div class="rTableCell">{{ file[1] }}</div>
        <div class="rTableCell"><a href="/fetch/{{ file[1] }}">/fetch/{{ file[1] }}</a></div>
        <div class="rTableCell">{{ file[0] }}</div>
    </div>
    {% endfor %}
</div>

<script>
    function download_all ()
    {
    {% for file in files_list %}
        download_url("{{ file[1] }}", "/fetch/{{ file[1] }}")
    {% endfor %}
    }
</script>

<button type="button" onclick="download_all()">
    Download All
</button>

</body>
</html>